<link href="{{ STATIC_URL }}custom/css/caro.css" rel="stylesheet">
<link href="{{ STATIC_URL }}custom/css/lastpolls.css" rel="stylesheet">
<script src="{{ STATIC_URL }}others/js/Chart.min.js"></script>
<script src="{{ STATIC_URL }}custom/js/lastpolls.js"></script>
{% load reboot_extras %}
<div id="myCarousel" class="carousel slide" data-ride="carousel" style="margin-top: 50px;">
    <!-- Indicators -->
    <ol class="carousel-indicators">
    {% for question in poll_data %}
            <li data-target="#myCarousel" data-slide-to="{{ forloop.counter0 }}" id="indi_{{ forloop.counter0 }}"></li>
    {% endfor %}
    </ol>
    
    <div class="carousel-inner" role="listbox">
    {% for question_dict in poll_data %}
        {% if forloop.first %}
        <div class="item active">
        {% else %}
        <div class="item">
        {% endif %}
    {% for question, options_list in question_dict.items %}
            <div class="container">
                <div class="carousel-caption">
                    <div class="panel panel-primary" style="background-color: #ECECEA; border-color:#028482;">
                        <div class="panel-heading" style="background: #028482; border-color:#028482;color: whitesmoke;">
                            <h3 class="panel-title" style="text-align: left;">
                                <span class="glyphicon glyphicon-arrow-right"></span>{{ question }}
                            </h3>
                        </div><!-- panel heading end -->
                            <div class="panel-body">
                                <div class="row">
                                <div class="col-md-4 col-xs-12">
                                  <canvas id="myChart" width="250" height="250"></canvas>
                                </div>
                                <div class="col-md-8 col-xs-12">
                                    <ul class="list-group" style="text-align: left;">
                                        {% for question_dict in options_list %}
                                        <li class="list-group-item">
                                            <span class="badge">{{ question_dict|get_item:"option_percentage"}} %</span>
                                            {{ question_dict|get_item:"option_string"}}
                                        </li>
                                        {% endfor %}
                                    </ul>
                                </div>
                                </div>
                            </div><!-- panel body end -->
                    </div><!-- panel end -->
                </div>
            </div>
      </div>
      {% endfor %}
      {% endfor %}  
      <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true" style="color: gray;"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="color: gray;width: 10%;"></span>
        <span class="sr-only">Next</span>
      </a>
</div>
</div>
